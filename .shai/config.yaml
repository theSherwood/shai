type: shai-sandbox
version: 1
image: debian-dev:dev
user: devuser
workspace: /src
resources:
  default:
    calls:
      - name: uname
        command: uname -a
    mounts:
      - source: ${{ env.HOME }}/.cache/go-build
        target: /go/pkg
        mode: rw
      - source: ${{ env.HOME }}/.cache/go-mod
        target: /go/mod
        mode: rw
      - source: ${{ env.HOME }}/.codex
        target: /home/devuser/.codex
        mode: rw
      - source: ${{ env.HOME }}/.claude
        target: /home/devuser/.claude
        mode: rw
      - source: ${{ env.HOME }}/.claude.json
        target: /home/devuser/.claude.json
        mode: rw
      - source: ${{ env.HOME }}/.claude.json.backup
        target: /home/devuser/.claude.json.backup
        mode: rw
    http:
      - openai.com
      - api.openai.com
      - chatgpt.com
      - anthropic.com
      - api.anthropic.com
      - googleapis.com
      - generativelanguage.googleapis.com
      - ai.google.dev
      - oauth2.googleapis.com
      - accounts.google.com
      - github.com
      - gitlab.com
      - bitbucket.org
      - codeload.github.com
      - githubusercontent.com
      - nodejs.org
      - npmjs.org
      - npmjs.com
      - registry.npmjs.org
      - registry.yarnpkg.com
      - dl.yarnpkg.com
      - pnpm.io
      - registry.npmmirror.com
      - golang.org
      - go.dev
      - proxy.golang.org
      - sum.golang.org
      - gopkg.in
      - storage.googleapis.com
      - rust-lang.org
      - static.rust-lang.org
      - sh.rustup.rs
      - crates.io
      - index.crates.io
      - static.crates.io
      - docs.rs
      - doc.rust-lang.org
      - pypi.org
      - files.pythonhosted.org
      - pythonhosted.org
      - python.org
      - docs.python.org
      - repo.maven.apache.org
      - repo1.maven.org
      - search.maven.org
      - jitpack.io
      - pkg.go.dev
      - devdocs.io
      - maven.pkg.github.com
      - npm.pkg.github.com
      - pkg.github.com
      - packages.githubusercontent.com
      - pkg-containers.githubusercontent.com
      - docker.io
      - registry-1.docker.io
      - index.docker.io
      - auth.docker.io
      - production.cloudflare.docker.com
      - ghcr.io
      - quay.io
      - gcr.io
      - registry.k8s.io
      - k8s.gcr.io
      - mcr.microsoft.com
      - public.ecr.aws
      - playwright.dev
      - microsoft.com
      - go.dev
      - google.com
    ports:
      - host: github.com
        port: 22
apply:
  - path: ./
    resources:
      - default
